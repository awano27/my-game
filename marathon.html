<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<meta name="description" content="ã•ã„ãŸã¾ãƒãƒ©ã‚½ãƒ³2026ã®ã‚³ãƒ¼ã‚¹ã‚’ã‚¯ã‚¤ã‚ºã§äºˆç¿’ï¼ã‚¨ã‚¤ãƒ‰çµ¦é£Ÿã€æ²¿é“å¿œæ´ã€æŠ˜ã‚Šè¿”ã—åœ°ç‚¹ã‚’è¦šãˆã‚ˆã†">
<meta name="theme-color" content="#c2185b">
<meta property="og:title" content="ã•ã„ãŸã¾ãƒãƒ©ã‚½ãƒ³ ã‚³ãƒ¼ã‚¹äºˆç¿’ã‚¯ã‚¤ã‚ºãƒ©ãƒ³">
<meta property="og:description" content="42.195kmã®ã‚³ãƒ¼ã‚¹ã‚’ã‚¯ã‚¤ã‚ºã§èµ°ã‚ã†ï¼ã‚¨ã‚¤ãƒ‰ã®é£Ÿã¹ç‰©ã‚„å¿œæ´ãƒã‚¤ãƒ³ãƒˆã‚’äº‹å‰ãƒã‚§ãƒƒã‚¯">
<meta property="og:type" content="website">
<meta property="og:url" content="https://awano27.github.io/my-game/marathon.html">
<meta name="twitter:card" content="summary">
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸƒ</text></svg>">
<title>ã•ã„ãŸã¾ãƒãƒ©ã‚½ãƒ³ ã‚³ãƒ¼ã‚¹äºˆç¿’ã‚¯ã‚¤ã‚ºãƒ©ãƒ³</title>
<style>
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    user-select: none;
  }

  body {
    overflow-x: hidden;
    font-family: 'Helvetica Neue', Arial, sans-serif;
    min-height: 100dvh;
    background: #f5f5f5;
  }

  /* --- Course progress bar (top) --- */
  #course-bar {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    height: 48px;
    background: linear-gradient(180deg, #e91e8c, #c2185b);
    z-index: 100;
    box-shadow: 0 2px 8px rgba(0,0,0,0.3);
    display: none;
  }

  #course-track {
    position: absolute;
    top: 28px;
    left: 16px;
    right: 16px;
    height: 6px;
    background: rgba(255,255,255,0.3);
    border-radius: 3px;
  }

  #course-fill {
    height: 100%;
    width: 0%;
    background: #ffcb05;
    border-radius: 3px;
    transition: width 0.8s ease;
  }

  #runner-icon {
    position: absolute;
    top: 16px;
    left: 16px;
    font-size: 20px;
    transition: left 0.8s ease;
    filter: drop-shadow(0 1px 2px rgba(0,0,0,0.3));
  }

  #course-info {
    position: absolute;
    top: 4px;
    left: 16px;
    right: 16px;
    display: flex;
    justify-content: space-between;
    color: #fff;
    font-size: 12px;
    font-weight: bold;
  }

  #course-info .dist {
    color: #ffcb05;
  }

  /* --- Stamina bar --- */
  #stamina-container {
    position: fixed;
    top: 48px;
    left: 0;
    right: 0;
    height: 28px;
    background: rgba(0,0,0,0.85);
    z-index: 100;
    display: none;
    align-items: center;
    padding: 0 16px;
    gap: 8px;
  }

  #stamina-label {
    color: #69f0ae;
    font-size: 11px;
    font-weight: bold;
    white-space: nowrap;
  }

  #stamina-bar-bg {
    flex: 1;
    height: 10px;
    background: rgba(255,255,255,0.15);
    border-radius: 5px;
    overflow: hidden;
  }

  #stamina-bar {
    height: 100%;
    width: 100%;
    background: linear-gradient(90deg, #f44336, #ff9800, #4caf50);
    border-radius: 5px;
    transition: width 0.5s ease;
  }

  #stamina-text {
    color: #fff;
    font-size: 11px;
    font-weight: bold;
    min-width: 36px;
    text-align: right;
  }

  #score-badge {
    color: #ffcb05;
    font-size: 11px;
    font-weight: bold;
    min-width: 50px;
    text-align: right;
  }

  /* --- Main container --- */
  #game-container {
    min-height: 100dvh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 10px;
  }

  .game-active #game-container {
    padding-top: 86px;
    justify-content: flex-start;
  }

  /* --- Screens --- */
  .screen {
    display: none;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    gap: 16px;
    width: 100%;
    max-width: 500px;
    padding: 20px;
  }

  .screen.active {
    display: flex;
  }

  /* --- Start screen --- */
  #start-screen {
    background: linear-gradient(135deg, #e91e8c, #c2185b, #9c27b0);
    border-radius: 24px;
    color: #fff;
    padding: 40px 24px;
    box-shadow: 0 8px 30px rgba(233,30,140,0.4);
  }

  #start-screen h1 {
    font-size: 28px;
    line-height: 1.3;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
  }

  #start-screen .subtitle {
    font-size: 16px;
    opacity: 0.9;
    line-height: 1.6;
  }

  #start-screen .race-info {
    background: rgba(255,255,255,0.15);
    border-radius: 16px;
    padding: 16px;
    font-size: 14px;
    line-height: 1.8;
    text-align: left;
    width: 100%;
  }

  #start-screen .race-info strong {
    color: #ffcb05;
  }

  .start-emoji {
    font-size: 56px;
  }

  /* --- Buttons --- */
  .btn {
    padding: 16px 40px;
    font-size: 20px;
    font-weight: bold;
    color: #c2185b;
    border: none;
    border-radius: 50px;
    cursor: pointer;
    background: #fff;
    box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    transition: transform 0.15s, box-shadow 0.15s;
    touch-action: manipulation;
  }

  .btn:active {
    transform: scale(0.95);
    box-shadow: 0 2px 8px rgba(0,0,0,0.15);
  }

  .btn-secondary {
    background: linear-gradient(135deg, #e91e8c, #c2185b);
    color: #fff;
  }

  /* --- Quiz card --- */
  #quiz-card {
    width: 100%;
    max-width: 500px;
    background: #fff;
    border-radius: 20px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    overflow: hidden;
    animation: cardIn 0.4s ease;
  }

  @keyframes cardIn {
    from { opacity: 0; transform: translateY(30px) scale(0.95); }
    to { opacity: 1; transform: translateY(0) scale(1); }
  }

  .quiz-header {
    background: linear-gradient(135deg, #e91e8c, #c2185b);
    color: #fff;
    padding: 16px 20px;
    display: flex;
    align-items: center;
    gap: 12px;
  }

  .quiz-header .km-badge {
    background: #ffcb05;
    color: #c2185b;
    font-weight: bold;
    font-size: 14px;
    padding: 4px 12px;
    border-radius: 20px;
    white-space: nowrap;
  }

  .quiz-header .category {
    font-size: 14px;
    color: #fff;
  }

  .quiz-question {
    padding: 20px;
    font-size: 17px;
    font-weight: bold;
    color: #333;
    line-height: 1.6;
    border-bottom: 1px solid #f0f0f0;
  }

  .quiz-options {
    padding: 12px;
    display: flex;
    flex-direction: column;
    gap: 8px;
  }

  .quiz-option {
    padding: 14px 16px;
    border: 2px solid #e0e0e0;
    border-radius: 12px;
    font-size: 15px;
    color: #333;
    cursor: pointer;
    transition: all 0.2s;
    background: #fff;
    text-align: left;
    line-height: 1.4;
  }

  .quiz-option:active {
    transform: scale(0.98);
  }

  .quiz-option.correct {
    border-color: #4caf50;
    background: #e8f5e9;
    color: #2e7d32;
    font-weight: bold;
  }

  .quiz-option.wrong {
    border-color: #f44336;
    background: #ffebee;
    color: #c62828;
  }

  .quiz-option.reveal {
    border-color: #4caf50;
    background: #e8f5e9;
  }

  .quiz-option.disabled {
    pointer-events: none;
    opacity: 0.6;
  }

  /* --- Result feedback --- */
  .quiz-result {
    padding: 16px 20px;
    display: none;
    align-items: center;
    gap: 12px;
    font-size: 14px;
    line-height: 1.5;
  }

  .quiz-result.show {
    display: flex;
  }

  .quiz-result.correct {
    background: #e8f5e9;
    color: #2e7d32;
  }

  .quiz-result.wrong {
    background: #ffebee;
    color: #c62828;
  }

  .quiz-result .emoji {
    font-size: 32px;
  }

  /* --- Next button area --- */
  .quiz-next {
    padding: 12px 20px;
    display: none;
    justify-content: center;
  }

  .quiz-next.show {
    display: flex;
  }

  .quiz-next button {
    padding: 12px 32px;
    font-size: 16px;
    font-weight: bold;
    border: none;
    border-radius: 30px;
    cursor: pointer;
    background: linear-gradient(135deg, #e91e8c, #c2185b);
    color: #fff;
    box-shadow: 0 3px 10px rgba(233,30,140,0.3);
    touch-action: manipulation;
  }

  /* --- Aid station info card --- */
  #aid-card {
    display: none;
    width: 100%;
    max-width: 500px;
    background: #fff;
    border-radius: 20px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    overflow: hidden;
    margin-top: 12px;
    animation: cardIn 0.4s ease;
  }

  #aid-card.show { display: block; }

  .aid-header {
    background: linear-gradient(135deg, #ff9800, #f57c00);
    color: #fff;
    padding: 14px 20px;
    font-size: 16px;
    font-weight: bold;
  }

  .aid-body {
    padding: 16px 20px;
  }

  .aid-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 8px 0;
    border-bottom: 1px solid #f5f5f5;
    font-size: 14px;
    color: #555;
  }

  .aid-item:last-child { border-bottom: none; }

  .aid-item .emoji { font-size: 24px; }

  /* --- Landmark card --- */
  .landmark-card {
    width: 100%;
    max-width: 500px;
    background: linear-gradient(135deg, #e3f2fd, #bbdefb);
    border-radius: 16px;
    padding: 16px 20px;
    margin-top: 12px;
    display: flex;
    align-items: center;
    gap: 12px;
    animation: cardIn 0.4s ease;
  }

  .landmark-card .emoji { font-size: 36px; }
  .landmark-card .info { font-size: 14px; color: #1565c0; line-height: 1.5; }
  .landmark-card .info strong { font-size: 16px; }

  /* --- Finish screen --- */
  #finish-screen {
    background: #fff;
    border-radius: 24px;
    padding: 40px 24px;
    box-shadow: 0 8px 30px rgba(0,0,0,0.15);
  }

  #finish-screen h1 {
    font-size: 32px;
    color: #c2185b;
    text-shadow: 1px 1px 0 rgba(0,0,0,0.05);
  }

  .finish-medal {
    font-size: 80px;
    animation: medalBounce 1s ease;
  }

  @keyframes medalBounce {
    0% { transform: scale(0) rotate(-30deg); }
    50% { transform: scale(1.2) rotate(10deg); }
    70% { transform: scale(0.9) rotate(-5deg); }
    100% { transform: scale(1) rotate(0); }
  }

  .finish-stats {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 12px;
    width: 100%;
  }

  .finish-stat {
    background: #f5f5f5;
    border-radius: 12px;
    padding: 12px;
    text-align: center;
  }

  .finish-stat .label {
    font-size: 12px;
    color: #666;
    margin-bottom: 4px;
  }

  .finish-stat .value {
    font-size: 24px;
    font-weight: bold;
    color: #c2185b;
  }

  .finish-message {
    font-size: 15px;
    color: #555;
    line-height: 1.6;
    padding: 12px;
    background: linear-gradient(135deg, #fce4ec, #f3e5f5);
    border-radius: 12px;
    width: 100%;
  }

  /* --- Animations --- */
  .stamina-flash {
    animation: staminaFlash 0.5s ease;
  }

  @keyframes staminaFlash {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.3; }
  }

  /* --- Game Over screen --- */
  #gameover-screen {
    background: #fff;
    border-radius: 24px;
    padding: 40px 24px;
    box-shadow: 0 8px 30px rgba(0,0,0,0.15);
  }

  #gameover-screen h1 {
    font-size: 28px;
    color: #f44336;
  }

  .retry-message {
    font-size: 15px;
    color: #555;
    line-height: 1.6;
  }
</style>
</head>
<body>

<div id="course-bar">
  <div id="course-info">
    <span id="current-km" class="dist">0.0km</span>
    <span>ã•ã„ãŸã¾ãƒãƒ©ã‚½ãƒ³ 42.195km</span>
    <span id="question-count">Q.0/0</span>
  </div>
  <div id="course-track">
    <div id="course-fill"></div>
  </div>
  <div id="runner-icon">ğŸƒ</div>
</div>

<div id="stamina-container">
  <span id="stamina-label">ğŸ’ª ã‚¹ã‚¿ãƒŸãƒŠ</span>
  <div id="stamina-bar-bg">
    <div id="stamina-bar"></div>
  </div>
  <span id="stamina-text">100%</span>
  <span id="score-badge">â­ 0ç‚¹</span>
</div>

<div id="game-container">

  <!-- Start Screen -->
  <div id="start-screen" class="screen active">
    <div class="start-emoji">ğŸƒâ€â™‚ï¸ğŸŸï¸</div>
    <h1>ã•ã„ãŸã¾ãƒãƒ©ã‚½ãƒ³<br>ã‚³ãƒ¼ã‚¹äºˆç¿’ã‚¯ã‚¤ã‚ºãƒ©ãƒ³</h1>
    <p class="subtitle">ã‚¯ã‚¤ã‚ºã«ç­”ãˆãªãŒã‚‰42.195kmã‚’<br>ãƒãƒ¼ãƒãƒ£ãƒ«ã§èµ°ã‚ã†ï¼</p>
    <div class="race-info">
      <strong>ğŸ“… å¤§ä¼šæ—¥:</strong> 2026å¹´2æœˆ8æ—¥ï¼ˆæ—¥ï¼‰<br>
      <strong>â° ã‚¹ã‚¿ãƒ¼ãƒˆ:</strong> 9:00<br>
      <strong>ğŸ“ ä¼šå ´:</strong> ã•ã„ãŸã¾ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¢ãƒªãƒ¼ãƒŠå‘¨è¾º<br>
      <strong>ğŸ è·é›¢:</strong> ãƒ•ãƒ«ãƒãƒ©ã‚½ãƒ³ 42.195km<br>
      <strong>â±ï¸ åˆ¶é™æ™‚é–“:</strong> 6æ™‚é–“
    </div>
    <button class="btn" id="start-btn">ğŸƒ ã‚¹ã‚¿ãƒ¼ãƒˆï¼</button>
  </div>

  <!-- Quiz Screen -->
  <div id="quiz-screen" class="screen">
    <div id="quiz-card">
      <div class="quiz-header">
        <span class="km-badge" id="quiz-km">0km</span>
        <span class="category" id="quiz-category">ã‚³ãƒ¼ã‚¹æƒ…å ±</span>
      </div>
      <div class="quiz-question" id="quiz-question">å•é¡Œæ–‡ãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™</div>
      <div class="quiz-options" id="quiz-options"></div>
      <div class="quiz-result" id="quiz-result">
        <span class="emoji" id="result-emoji"></span>
        <span id="result-text"></span>
      </div>
      <div class="quiz-next" id="quiz-next">
        <button id="next-btn">æ¬¡ã¸é€²ã‚€ â†’</button>
      </div>
    </div>
    <div id="aid-card">
      <div class="aid-header" id="aid-header">ğŸ½ï¸ ã‚¨ã‚¤ãƒ‰ã‚¹ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³æƒ…å ±</div>
      <div class="aid-body" id="aid-body"></div>
    </div>
  </div>

  <!-- Finish Screen -->
  <div id="finish-screen" class="screen">
    <div class="finish-medal" id="finish-medal">ğŸ¥‡</div>
    <h1>ğŸ‰ å®Œèµ°ãŠã‚ã§ã¨ã†ï¼</h1>
    <div class="finish-stats">
      <div class="finish-stat">
        <div class="label">æ­£ç­”ç‡</div>
        <div class="value" id="finish-accuracy">0%</div>
      </div>
      <div class="finish-stat">
        <div class="label">ã‚¹ã‚³ã‚¢</div>
        <div class="value" id="finish-score">0</div>
      </div>
      <div class="finish-stat">
        <div class="label">æ®‹ã‚Šã‚¹ã‚¿ãƒŸãƒŠ</div>
        <div class="value" id="finish-stamina">0%</div>
      </div>
      <div class="finish-stat">
        <div class="label">æ­£è§£æ•°</div>
        <div class="value" id="finish-correct">0/0</div>
      </div>
    </div>
    <div class="finish-message" id="finish-message"></div>
    <button class="btn btn-secondary" id="retry-btn">ğŸ”„ ã‚‚ã†ä¸€åº¦èµ°ã‚‹</button>
  </div>

  <!-- Game Over Screen -->
  <div id="gameover-screen" class="screen">
    <div class="start-emoji">ğŸ˜µğŸ’«</div>
    <h1>ã‚¹ã‚¿ãƒŸãƒŠåˆ‡ã‚Œâ€¦ï¼</h1>
    <p class="retry-message" id="gameover-km">0kmåœ°ç‚¹ã§ãƒªã‚¿ã‚¤ã‚¢</p>
    <p class="retry-message">æ­£è§£ã—ã¦ã‚¹ã‚¿ãƒŸãƒŠã‚’ç¶­æŒã—ã‚ˆã†ï¼<br>ã‚³ãƒ¼ã‚¹ã®çŸ¥è­˜ã‚’ã¤ã‘ã¦å†æŒ‘æˆ¦ï¼</p>
    <div class="finish-stats">
      <div class="finish-stat">
        <div class="label">åˆ°é”åœ°ç‚¹</div>
        <div class="value" id="gameover-dist">0km</div>
      </div>
      <div class="finish-stat">
        <div class="label">æ­£è§£æ•°</div>
        <div class="value" id="gameover-correct">0/0</div>
      </div>
    </div>
    <button class="btn btn-secondary" id="gameover-retry-btn">ğŸ”„ å†ãƒãƒ£ãƒ¬ãƒ³ã‚¸</button>
  </div>
</div>

<script>
(function() {
  'use strict';

  // =====================================================
  // QUIZ DATA - Saitama Marathon 2026
  // =====================================================
  const QUIZ_DATA = [
    // --- 0km START area ---
    {
      km: 0,
      category: 'ğŸŸï¸ ã‚¹ã‚¿ãƒ¼ãƒˆåœ°ç‚¹',
      question: 'ã•ã„ãŸã¾ãƒãƒ©ã‚½ãƒ³ã®ã‚¹ã‚¿ãƒ¼ãƒˆãƒ»ãƒ•ã‚£ãƒ‹ãƒƒã‚·ãƒ¥åœ°ç‚¹ã¯ã©ã“ï¼Ÿ',
      options: ['ã•ã„ãŸã¾ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¢ãƒªãƒ¼ãƒŠå‘¨è¾º', 'åŸ¼ç‰ã‚¹ã‚¿ã‚¸ã‚¢ãƒ 2002', 'å¤§å®®å…¬åœ’', 'æµ¦å’Œé§’å ´ã‚¹ã‚¿ã‚¸ã‚¢ãƒ '],
      answer: 0,
      explanation: 'ã•ã„ãŸã¾ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¢ãƒªãƒ¼ãƒŠå‘¨è¾ºãŒç™ºç€ç‚¹ã§ã™ï¼å›½å†…æœ€å¤§ç´šã®å¤šç›®çš„ã‚¢ãƒªãƒ¼ãƒŠã‹ã‚‰ã‚¹ã‚¿ãƒ¼ãƒˆï¼'
    },
    {
      km: 0,
      category: 'ğŸ“‹ å¤§ä¼šæƒ…å ±',
      question: 'ã•ã„ãŸã¾ãƒãƒ©ã‚½ãƒ³2026ã®ã‚¹ã‚¿ãƒ¼ãƒˆæ™‚é–“ã¯ï¼Ÿ',
      options: ['8:00', '8:30', '9:00', '9:30'],
      answer: 2,
      explanation: '9:00ã‚¹ã‚¿ãƒ¼ãƒˆã§ã™ã€‚æ—©èµ·ãã—ã¦æº–å‚™ã—ã¾ã—ã‚‡ã†ï¼'
    },
    {
      km: 0,
      category: 'ğŸ“‹ å¤§ä¼šæƒ…å ±',
      question: 'ãƒãƒ©ã‚½ãƒ³ã®éƒ¨ã®åˆ¶é™æ™‚é–“ã¯ï¼Ÿ',
      options: ['5æ™‚é–“', '5æ™‚é–“30åˆ†', '6æ™‚é–“', '7æ™‚é–“'],
      answer: 2,
      explanation: 'åˆ¶é™æ™‚é–“ã¯å·ç ²ã‹ã‚‰6æ™‚é–“ã§ã™ã€‚15:00ã¾ã§ã«ãƒ•ã‚£ãƒ‹ãƒƒã‚·ãƒ¥ã—ã¾ã—ã‚‡ã†ï¼'
    },
    // --- 1.3km ---
    {
      km: 1.3,
      category: 'ğŸµ æ²¿é“å¿œæ´',
      question: '1.3kmåœ°ç‚¹ã§èã‘ã‚‹å¿œæ´æ¼”å¥ã¯ï¼Ÿ',
      options: ['å¹å¥æ¥½', 'å’Œå¤ªé¼“', 'ãƒã‚¢ãƒ€ãƒ³ã‚¹', 'ã‚¨ã‚¤ã‚µãƒ¼'],
      answer: 1,
      explanation: 'ãŠã¤ã¾å¤ªé¼“ & æµ¦å’Œå¤ªé¼“ã®å’Œå¤ªé¼“æ¼”å¥ã§ã‚¹ã‚¿ãƒ¼ãƒˆç›´å¾Œã‹ã‚‰ç››ã‚Šä¸ŠãŒã‚Šã¾ã™ï¼'
    },
    // --- 5km ---
    {
      km: 5,
      category: 'ğŸ—ºï¸ ã‚³ãƒ¼ã‚¹ç‰¹å¾´',
      question: 'ã‚³ãƒ¼ã‚¹ã¯ã•ã„ãŸã¾å¸‚å†…ã‚’ã©ã®æ–¹å‘ã«å·¡ã‚‹ï¼Ÿ',
      options: ['å—åŒ—ã«å¾€å¾©', 'æ±è¥¿ã«å·¡ã‚‹', 'åŒ—ã«ä¸€ç›´ç·š', 'æ™‚è¨ˆå›ã‚Šã«ä¸€å‘¨'],
      answer: 1,
      explanation: 'ã•ã„ãŸã¾ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¢ãƒªãƒ¼ãƒŠã‹ã‚‰æ±è¥¿ã«ã•ã„ãŸã¾å¸‚å†…ã‚’å·¡ã‚‹ã‚³ãƒ¼ã‚¹ã§ã™ï¼'
    },
    // --- 7.2km ---
    {
      km: 7.2,
      category: 'ğŸµ æ²¿é“å¿œæ´',
      question: '7.2kmåœ°ç‚¹ã§å¿œæ´ã—ã¦ãã‚Œã‚‹ã®ã¯ï¼Ÿ',
      options: ['æµ¦å’Œãƒ¬ãƒƒã‚ºã‚µãƒãƒ¼ã‚¿ãƒ¼', 'ã•ã„ãŸã¾å¸‚ç«‹æµ¦å’Œé«˜æ ¡å¹å¥æ¥½éƒ¨', 'å¤§å®®ã‚¢ãƒ«ãƒ‡ã‚£ãƒ¼ã‚¸ãƒ£å¿œæ´å›£', 'ãƒ—ãƒ­å’Œå¤ªé¼“ãƒãƒ¼ãƒ '],
      answer: 1,
      explanation: 'ã•ã„ãŸã¾å¸‚ç«‹æµ¦å’Œé«˜ç­‰å­¦æ ¡ã®å¹å¥æ¥½éƒ¨ãŒè¯ã‚„ã‹ãªæ¼”å¥ã§å¿œæ´ã—ã¦ãã‚Œã¾ã™ï¼'
    },
    // --- 10km ---
    {
      km: 10,
      category: 'ğŸŸï¸ ãƒ©ãƒ³ãƒ‰ãƒãƒ¼ã‚¯',
      question: '10kmä»˜è¿‘ã«ã‚ã‚‹ã‚¹ã‚¿ã‚¸ã‚¢ãƒ ã¯ï¼Ÿ',
      options: ['ã•ã„ãŸã¾ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¢ãƒªãƒ¼ãƒŠ', 'åŸ¼ç‰ã‚¹ã‚¿ã‚¸ã‚¢ãƒ 2002', 'æµ¦å’Œé§’å ´ã‚¹ã‚¿ã‚¸ã‚¢ãƒ ', 'ãƒ¡ãƒƒãƒˆãƒ©ã‚¤ãƒ•ãƒ‰ãƒ¼ãƒ '],
      answer: 2,
      explanation: 'æµ¦å’Œé§’å ´ã‚¹ã‚¿ã‚¸ã‚¢ãƒ ã®è¿‘ãã‚’é€šã‚Šã¾ã™ã€‚8kmã®éƒ¨ã¯ã“ã“ãŒãƒ•ã‚£ãƒ‹ãƒƒã‚·ãƒ¥åœ°ç‚¹ã§ã™ï¼',
      landmark: { emoji: 'ğŸŸï¸', name: 'æµ¦å’Œé§’å ´ã‚¹ã‚¿ã‚¸ã‚¢ãƒ ', detail: '8kmã®éƒ¨ã®ãƒ•ã‚£ãƒ‹ãƒƒã‚·ãƒ¥åœ°ç‚¹' }
    },
    // --- 12.4km ---
    {
      km: 12.4,
      category: 'ğŸµ æ²¿é“å¿œæ´',
      question: '12.4kmåœ°ç‚¹ã§è¦‹ã‚‰ã‚Œã‚‹æ²–ç¸„ã®ä¼çµ±èˆè¸Šã¯ï¼Ÿ',
      options: ['é˜¿æ³¢è¸Šã‚Š', 'ã‚ˆã•ã“ã„', 'ã‚¨ã‚¤ã‚µãƒ¼', 'ã‚½ãƒ¼ãƒ©ãƒ³ç¯€'],
      answer: 2,
      explanation: 'æµ¦å’Œå¤§å­¦ã‚¨ã‚¤ã‚µãƒ¼ã‚¯ãƒ«ãŒæ²–ç¸„ã®ä¼çµ±èˆè¸Šã€Œã‚¨ã‚¤ã‚µãƒ¼ã€ã§å¿œæ´ï¼å¤ªé¼“ã®éŸ³ãŒéŸ¿ãã¾ã™ï¼'
    },
    // --- 15km ã‚¨ã‚¤ãƒ‰ ---
    {
      km: 15,
      category: 'ğŸ½ï¸ ã‚¨ã‚¤ãƒ‰çµ¦é£Ÿ',
      question: '15kmåœ°ç‚¹ã®ã‚¨ã‚¤ãƒ‰ã§é£Ÿã¹ã‚‰ã‚Œã‚‹ãƒ‘ãƒ³ã¯ï¼Ÿ',
      options: ['ãƒ¡ãƒ­ãƒ³ãƒ‘ãƒ³', 'ã“ã—ã‚ã‚“ãƒ‰ãƒ¼ãƒŠãƒ„', 'ã‚«ãƒ¬ãƒ¼ãƒ‘ãƒ³', 'ã‚¯ãƒªãƒ¼ãƒ ãƒ‘ãƒ³'],
      answer: 1,
      explanation: 'ä¼Šè—¤è£½ãƒ‘ãƒ³ã®ã€ŒãŠã™ãã‚ã‘ã“ã—ã‚ã‚“ãƒ‰ãƒ¼ãƒŠãƒ„ã€ãŒé£Ÿã¹ã‚‰ã‚Œã¾ã™ï¼',
      aid: [
        { emoji: 'ğŸ©', text: 'ãŠã™ãã‚ã‘ã“ã—ã‚ã‚“ãƒ‰ãƒ¼ãƒŠãƒ„ï¼ˆä¼Šè—¤è£½ãƒ‘ãƒ³ï¼‰' },
        { emoji: 'ğŸ¡', text: 'ã‚¨ãƒãƒ¢ãƒï¼ˆãƒ‘ãƒ©ãƒãƒãƒ¼ã‚¹é…åˆãã‚‹ã¿é¤…ï¼‰' },
        { emoji: 'ğŸ’§', text: 'æ°´ãƒ»ã‚¹ãƒãƒ¼ãƒ„ãƒ‰ãƒªãƒ³ã‚¯' }
      ]
    },
    {
      km: 15,
      category: 'ğŸ½ï¸ ã‚¨ã‚¤ãƒ‰çµ¦é£Ÿ',
      question: '15kmåœ°ç‚¹ã§é£Ÿã¹ã‚‰ã‚Œã‚‹ã€Œã‚¨ãƒãƒ¢ãƒã€ã®æ­£ä½“ã¯ï¼Ÿ',
      options: ['å¤§ç¦é¤…', 'ãƒ‘ãƒ©ãƒãƒãƒ¼ã‚¹é…åˆãã‚‹ã¿é¤…', 'ã‚ã‚‰ã³é¤…', 'ãŠã¯ã'],
      answer: 1,
      explanation: 'ãƒ©ãƒ³ãƒŠãƒ¼ã«äººæ°—ã®ã‚¨ãƒãƒ¢ãƒã¯ã€ãƒ‘ãƒ©ãƒãƒãƒ¼ã‚¹é…åˆã®ãã‚‹ã¿é¤…ï¼æŒç¶šçš„ãªã‚¨ãƒãƒ«ã‚®ãƒ¼è£œçµ¦ã«æœ€é©ã§ã™ï¼'
    },
    // --- 17.4km ç¬¬1æŠ˜ã‚Šè¿”ã— ---
    {
      km: 17.4,
      category: 'â†©ï¸ æŠ˜ã‚Šè¿”ã—',
      question: 'ç¬¬1æŠ˜ã‚Šè¿”ã—åœ°ç‚¹ï¼ˆ17.4kmï¼‰ã«ã‚ã‚‹ã‚¹ã‚¿ã‚¸ã‚¢ãƒ ã¯ï¼Ÿ',
      options: ['æµ¦å’Œé§’å ´ã‚¹ã‚¿ã‚¸ã‚¢ãƒ ', 'ç†Šè°·ã‚¹ãƒãƒ¼ãƒ„æ–‡åŒ–å…¬åœ’', 'åŸ¼ç‰ã‚¹ã‚¿ã‚¸ã‚¢ãƒ 2002', 'NACK5ã‚¹ã‚¿ã‚¸ã‚¢ãƒ å¤§å®®'],
      answer: 2,
      explanation: 'ç¬¬1æŠ˜ã‚Šè¿”ã—ã¯åŸ¼ç‰ã‚¹ã‚¿ã‚¸ã‚¢ãƒ 2002ï¼ˆæ±å£ï¼‰ï¼æ—¥æœ¬æœ€å¤§ã®ã‚µãƒƒã‚«ãƒ¼å°‚ç”¨ã‚¹ã‚¿ã‚¸ã‚¢ãƒ ã§ã™ï¼',
      landmark: { emoji: 'ğŸŸï¸', name: 'åŸ¼ç‰ã‚¹ã‚¿ã‚¸ã‚¢ãƒ 2002', detail: 'ç¬¬1æŠ˜ã‚Šè¿”ã—åœ°ç‚¹ï¼ˆæ±å£ï¼‰' }
    },
    // --- 20km ---
    {
      km: 20,
      category: 'ğŸ—ºï¸ ã‚³ãƒ¼ã‚¹ç‰¹å¾´',
      question: 'ã“ã®å¤§ä¼šã®ã‚³ãƒ¼ã‚¹ã«ã¯æŠ˜ã‚Šè¿”ã—ãŒä½•å›ã‚ã‚‹ï¼Ÿ',
      options: ['1å›', '2å›', '3å›', '4å›'],
      answer: 2,
      explanation: 'æŠ˜ã‚Šè¿”ã—ã¯3å›ï¼â‘ åŸ¼ç‰ã‚¹ã‚¿ã‚¸ã‚¢ãƒ 2002(17.4km) â‘¡æ±æµ¦å’Œæ–¹é¢(23kmä»˜è¿‘) â‘¢æµ¦å’Œé§…ä»˜è¿‘(30kmä»˜è¿‘)'
    },
    // --- 22.5km ã‚¨ã‚¤ãƒ‰ ---
    {
      km: 22.5,
      category: 'ğŸ½ï¸ ã‚¨ã‚¤ãƒ‰çµ¦é£Ÿ',
      question: '22.5kmåœ°ç‚¹ã®ã‚¨ã‚¤ãƒ‰ã§é£Ÿã¹ã‚‰ã‚Œã‚‹åŸ¼ç‰éŠ˜è“ã¯ï¼Ÿ',
      options: ['è‰åŠ ã›ã‚“ã¹ã„', 'åä¸‡çŸ³ã¾ã‚“ã˜ã‚…ã†', 'äº”å®¶å®', 'å·è¶ŠèŠ‹è“å­'],
      answer: 1,
      explanation: 'ã€Œã†ã¾ã„ã€ã†ã¾ã™ãã‚‹ã€ã§ãŠãªã˜ã¿ã®åä¸‡çŸ³ã¾ã‚“ã˜ã‚…ã†ï¼ã•ã¤ã¾èŠ‹ã®è–„çš®ã¨ã“ã—é¤¡ã®ä¸Šå“ãªå‘³ã‚ã„ã§ã™ï¼',
      aid: [
        { emoji: 'ğŸ¥Ÿ', text: 'åä¸‡çŸ³ã¾ã‚“ã˜ã‚…ã†ï¼ˆåä¸‡çŸ³ãµãã•ã‚„ï¼‰' },
        { emoji: 'ğŸ›', text: 'ã‚ˆã“ã™ã‹æµ·è»ã‚«ãƒ¬ãƒ¼ãƒ‘ãƒ³ï¼ˆä¼Šè—¤è£½ãƒ‘ãƒ³ï¼‰' },
        { emoji: 'ğŸŒ', text: 'ãƒãƒŠãƒŠï¼ˆæµ¦å’Œãƒ»å¤§å®®ä¸­å¤®å¸å£²å¸‚å ´ï¼‰' },
        { emoji: 'ğŸ’§', text: 'æ°´ãƒ»ã‚¹ãƒãƒ¼ãƒ„ãƒ‰ãƒªãƒ³ã‚¯' }
      ]
    },
    {
      km: 22.5,
      category: 'ğŸ½ï¸ ã‚¨ã‚¤ãƒ‰çµ¦é£Ÿ',
      question: '22.5kmåœ°ç‚¹ã§é£Ÿã¹ã‚‰ã‚Œã‚‹ã‚«ãƒ¬ãƒ¼ãƒ‘ãƒ³ã®åå‰ã¯ï¼Ÿ',
      options: ['é‡‘æ²¢ã‚«ãƒ¬ãƒ¼ãƒ‘ãƒ³', 'ã‚ˆã“ã™ã‹æµ·è»ã‚«ãƒ¬ãƒ¼ãƒ‘ãƒ³', 'å¤§å®®ã‚«ãƒ¬ãƒ¼ãƒ‘ãƒ³', 'ã‚¤ãƒ³ãƒ‰ã‚«ãƒ¬ãƒ¼ãƒ‘ãƒ³'],
      answer: 1,
      explanation: 'ä¼Šè—¤è£½ãƒ‘ãƒ³ã®ã€Œã‚ˆã“ã™ã‹æµ·è»ã‚«ãƒ¬ãƒ¼ãƒ‘ãƒ³ã€ï¼èµ°ã‚ŠãªãŒã‚‰ã‚¬ãƒƒãƒ„ãƒªè£œçµ¦ã§ãã¾ã™ï¼'
    },
    // --- 24km ---
    {
      km: 24,
      category: 'ğŸµ æ²¿é“å¿œæ´',
      question: '24kmåœ°ç‚¹ã®å¿œæ´ã«ä½¿ã‚ã‚Œã‚‹æ¥½å™¨ã¯ï¼Ÿ',
      options: ['ãƒˆãƒ©ãƒ³ãƒšãƒƒãƒˆ', 'ãƒã‚¤ã‚ªãƒªãƒ³', 'å’Œå¤ªé¼“', 'ã‚®ã‚¿ãƒ¼'],
      answer: 2,
      explanation: 'å’Œå¤ªé¼“å¡¾èµ¤æ²¼å¤ªé¼“ãŒåŠ›å¼·ã„æ¼”å¥ã§å¾ŒåŠæˆ¦ã®ãƒ©ãƒ³ãƒŠãƒ¼ã‚’å¿œæ´ã—ã¾ã™ï¼'
    },
    // --- 26.5km ã‚¨ãƒ³ã‚¸ãƒ§ã‚¤ã‚¨ã‚¤ãƒ‰ ---
    {
      km: 26.5,
      category: 'ğŸ° ã‚¨ãƒ³ã‚¸ãƒ§ã‚¤ã‚¨ã‚¤ãƒ‰',
      question: 'ã‚¨ãƒ³ã‚¸ãƒ§ã‚¤ã‚¨ã‚¤ãƒ‰ï¼ˆ26.5kmï¼‰ã§å‡ºã‚‹ç‰¹åˆ¥ãªã‚¹ã‚¤ãƒ¼ãƒ„ã¯ï¼Ÿ',
      options: ['ã‚·ãƒ§ãƒ¼ãƒˆã‚±ãƒ¼ã‚­ã¨ãƒ—ãƒªãƒ³', 'ã‚­ãƒ£ãƒ©ãƒ¡ãƒ«ã‚·ãƒ¥ãƒ¼ã‚¯ãƒªãƒ¼ãƒ ã¨ã‚«ã‚¹ã‚¿ãƒ¼ãƒ‰ãƒ—ãƒªãƒ³', 'ãƒãƒ§ã‚³ãƒ¬ãƒ¼ãƒˆã¨ã‚¯ãƒƒã‚­ãƒ¼', 'ã©ã‚‰ç„¼ãã¨å¤§ç¦'],
      answer: 1,
      explanation: 'ã‚¨ãƒ³ã‚¸ãƒ§ã‚¤ã‚¨ã‚¤ãƒ‰ã§ã¯è±ªè¯ã‚¹ã‚¤ãƒ¼ãƒ„ï¼ã‚­ãƒ£ãƒ©ãƒ¡ãƒ«ã‚·ãƒ¥ãƒ¼ã‚¯ãƒªãƒ¼ãƒ ï¼ˆãƒ‘ãƒ†ã‚£ã‚¹ãƒªãƒ¼ã‚¢ãƒ—ãƒ©ãƒã‚¹ï¼‰ã¨ã‚«ã‚¹ã‚¿ãƒ¼ãƒ‰ãƒ—ãƒªãƒ³ï¼ˆã‚¢ãƒ—ãƒªã‚¨èŠ± æ—æªå ‚ï¼‰ãŒæ¥½ã—ã‚ã¾ã™ï¼',
      aid: [
        { emoji: 'ğŸ§', text: 'ã‚­ãƒ£ãƒ©ãƒ¡ãƒ«ã‚·ãƒ¥ãƒ¼ã‚¯ãƒªãƒ¼ãƒ ï¼ˆãƒ‘ãƒ†ã‚£ã‚¹ãƒªãƒ¼ã‚¢ãƒ—ãƒ©ãƒã‚¹ï¼‰' },
        { emoji: 'ğŸ®', text: 'ã‚«ã‚¹ã‚¿ãƒ¼ãƒ‰ãƒ—ãƒªãƒ³ï¼ˆã‚¢ãƒ—ãƒªã‚¨èŠ± æ—æªå ‚ï¼‰' }
      ]
    },
    // --- 27.5km ---
    {
      km: 27.5,
      category: 'ğŸ½ï¸ ã‚¨ã‚¤ãƒ‰çµ¦é£Ÿ',
      question: '27.5kmåœ°ç‚¹ã§é£Ÿã¹ã‚‰ã‚Œã‚‹ç§©çˆ¶ã®åç‰©ã¯ï¼Ÿ',
      options: ['ç§©çˆ¶ãã°', 'ã¡ã¡ã¶é¤…', 'å‘³å™Œãƒãƒ†ãƒˆ', 'ã‚ã‚‰ã˜ã‚«ãƒ„'],
      answer: 1,
      explanation: 'ç§©çˆ¶ã®è‡ªç„¶ãŒè‚²ã‚“ã ãƒ¡ãƒ¼ãƒ—ãƒ«ã‚·ãƒ­ãƒƒãƒ—ã‚’è´…æ²¢ã«ä½¿ã£ãŸã€Œã¡ã¡ã¶é¤…ã€ï¼å£ã«å…¥ã‚ŒãŸç¬é–“ã¨ã‚ã‘ã‚‹ç”˜ã¿ãŒåºƒãŒã‚Šã¾ã™ï¼',
      aid: [
        { emoji: 'ğŸ¡', text: 'ã¡ã¡ã¶é¤…ï¼ˆç§©çˆ¶ ä¸­æ‘å±‹ï¼‰' },
        { emoji: 'ğŸ’§', text: 'æ°´ãƒ»ã‚¹ãƒãƒ¼ãƒ„ãƒ‰ãƒªãƒ³ã‚¯' }
      ]
    },
    // --- 30km ---
    {
      km: 30,
      category: 'ğŸ—ºï¸ ã‚³ãƒ¼ã‚¹ç‰¹å¾´',
      question: '30kmä»˜è¿‘ã¯ãƒãƒ©ã‚½ãƒ³ã§ä½•ã¨å‘¼ã°ã‚Œã‚‹ãƒã‚¤ãƒ³ãƒˆï¼Ÿ',
      options: ['ã‚¹ã‚¿ãƒ¼ãƒˆãƒ€ãƒƒã‚·ãƒ¥', 'ãƒ©ãƒ³ãƒŠãƒ¼ã‚ºãƒã‚¤', '30kmã®å£', 'ãƒ“ã‚¯ãƒˆãƒªãƒ¼ãƒ­ãƒ¼ãƒ‰'],
      answer: 2,
      explanation: 'ã€Œ30kmã®å£ã€ã¨å‘¼ã°ã‚Œã‚‹æœ€ã‚‚è¾›ã„ãƒã‚¤ãƒ³ãƒˆï¼ã“ã“ã‚’ä¹—ã‚Šè¶Šãˆã‚Œã°ã‚´ãƒ¼ãƒ«ãŒè¦‹ãˆã¦ãã¾ã™ï¼'
    },
    // --- 32.5km ---
    {
      km: 32.5,
      category: 'ğŸ½ï¸ ã‚¨ã‚¤ãƒ‰çµ¦é£Ÿ',
      question: '32.5kmåœ°ç‚¹ã§é£Ÿã¹ã‚‰ã‚Œã‚‹ãƒŸãƒ‹ãƒˆãƒãƒˆã®å“ç¨®ã¯ï¼Ÿ',
      options: ['ã‚¢ã‚¤ã‚³', 'ãƒˆãƒãƒˆãƒ™ãƒªãƒ¼', 'ãƒ—ãƒã·ã‚ˆ', 'ãƒŸãƒ‹ã‚­ãƒ£ãƒ­ãƒ«'],
      answer: 1,
      explanation: 'ãƒˆã‚­ã‚¿ç¨®è‹—ã®ã€Œãƒˆãƒãƒˆãƒ™ãƒªãƒ¼ã€ï¼†ã€Œãƒˆãƒãƒˆãƒ™ãƒªãƒ¼ã‚ªãƒ¬ãƒ³ã‚¸ã€ï¼ç”˜ãã¦é£Ÿã¹å¿œãˆã®ã‚ã‚‹ãƒŸãƒ‹ãƒˆãƒãƒˆã§ã™ï¼',
      aid: [
        { emoji: 'ğŸ…', text: 'ãƒˆãƒãƒˆãƒ™ãƒªãƒ¼ï¼†ãƒˆãƒãƒˆãƒ™ãƒªãƒ¼ã‚ªãƒ¬ãƒ³ã‚¸ï¼ˆãƒˆã‚­ã‚¿ç¨®è‹—ï¼‰' },
        { emoji: 'ğŸŒ­', text: 'ãŸã¾ã”ãƒ‰ãƒƒã‚°ï¼ˆä¼Šè—¤è£½ãƒ‘ãƒ³ï¼‰' },
        { emoji: 'ğŸŒ', text: 'ãƒãƒŠãƒŠãƒ»ãã ã‚‚ã®' }
      ]
    },
    // --- 35km ---
    {
      km: 35,
      category: 'ğŸŸï¸ ãƒ©ãƒ³ãƒ‰ãƒãƒ¼ã‚¯',
      question: '35kmä»˜è¿‘ã«ã‚ã‚‹æ–½è¨­ã¯ï¼Ÿ',
      options: ['ã•ã„ãŸã¾ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¢ãƒªãƒ¼ãƒŠ', 'ãƒãƒªãƒ†ã‚¯ã‚»ãƒ³ã‚¿ãƒ¼åŸ¼ç‰', 'å¤§å®®å…¬åœ’', 'é‰„é“åšç‰©é¤¨'],
      answer: 1,
      explanation: '35kmåœ°ç‚¹ã¯ãƒãƒªãƒ†ã‚¯ã‚»ãƒ³ã‚¿ãƒ¼åŸ¼ç‰ã®è¿‘ãã€‚ã“ã“ã¾ã§æ¥ã‚Œã°ã‚ã¨7kmï¼'
    },
    // --- 35.8km ---
    {
      km: 35.8,
      category: 'ğŸµ æ²¿é“å¿œæ´',
      question: '35.8kmåœ°ç‚¹ã§å¿œæ´ã—ã¦ãã‚Œã‚‹åé–€æ ¡ã¯ï¼Ÿ',
      options: ['æ…¶æ‡‰ç¾©å¡¾é«˜æ ¡', 'åŸ¼ç‰çœŒç«‹æµ¦å’Œé«˜æ ¡', 'æ—©ç¨²ç”°å¤§å­¦', 'å¤§å®®é«˜æ ¡'],
      answer: 1,
      explanation: 'åé–€ãƒ»åŸ¼ç‰çœŒç«‹æµ¦å’Œé«˜æ ¡ã®å¿œæ´å›£ãŒå…¨åŠ›ã§å¿œæ´ï¼çµ‚ç›¤ã®ç–²ã‚Œã‚’å¹ãé£›ã°ã—ã¦ãã‚Œã¾ã™ï¼'
    },
    // --- 37.5km æœ€å¤§ã‚¨ã‚¤ãƒ‰ ---
    {
      km: 37.5,
      category: 'ğŸ½ï¸ ã‚¨ã‚¤ãƒ‰çµ¦é£Ÿ',
      question: '37.5kmåœ°ç‚¹ã¯æœ€å¤§ã®ã‚¨ã‚¤ãƒ‰ã‚¹ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ï¼ã“ã“ã§é£Ÿã¹ã‚‰ã‚Œãªã„ã‚‚ã®ã¯ï¼Ÿ',
      options: ['ã†ãªãã®è’²ç„¼', 'ã„ã¡ã”é£´', 'ãƒ©ãƒ¼ãƒ¡ãƒ³', 'ä¹ƒã—æ¢…'],
      answer: 2,
      explanation: '37.5kmã¯è±ªè¯ãªçµ¦é£Ÿãƒã‚¤ãƒ³ãƒˆï¼ã†ãªãè’²ç„¼ã€ã„ã¡ã”é£´ã€ä¹ƒã—æ¢…ãªã©ç››ã‚Šã ãã•ã‚“ã§ã™ãŒã€ãƒ©ãƒ¼ãƒ¡ãƒ³ã¯å‡ºã¾ã›ã‚“ï¼',
      aid: [
        { emoji: 'ğŸ©', text: 'ã“ã—ã‚ã‚“ãƒ‰ãƒ¼ãƒŠãƒ„ï¼†ã‚³ãƒ¼ãƒ³ãƒãƒ¨ãƒ‘ãƒ³ï¼ˆä¼Šè—¤è£½ãƒ‘ãƒ³ï¼‰' },
        { emoji: 'ğŸŸ', text: 'ã†ãªãã®è’²ç„¼ï¼ˆã‹ã®ã†ã‚„ï¼‰' },
        { emoji: 'ğŸ“', text: 'ã„ã¡ã‚Šã‚“ã¼ã†ï¼†ã„ã¡ã”é£´ï¼ˆã—ã¼ã‚‰ããƒ•ã‚¡ãƒ¼ãƒ ï¼‰' },
        { emoji: 'ğŸ¡', text: 'ã‚¨ãƒãƒ¢ãƒï¼ˆå¤©è¦§å ‚å®çŸ³ï¼‰' },
        { emoji: 'ğŸµ', text: 'ä¹ƒã—æ¢…ï¼ˆä½è—¤å±‹ï¼‰- å±±å½¢ã®å®Œç†Ÿæ¢…ã®ç´”ç²‹' },
        { emoji: 'ğŸ¥Ÿ', text: 'è‡ªå®¶è£½ã—ã¾ã‚“ã˜ã‚…ã†ï¼ˆå¤§å®®è“å­èˆ—ï¼‰' },
        { emoji: 'ğŸ±', text: 'é£Ÿè‰¯å“ï¼ˆé…’äº•ã®é£Ÿè‰¯å“ï¼‰' }
      ]
    },
    {
      km: 37.5,
      category: 'ğŸ½ï¸ ã‚¨ã‚¤ãƒ‰çµ¦é£Ÿ',
      question: '37.5kmåœ°ç‚¹ã®ã€Œä¹ƒã—æ¢…ã€ã¯ã©ã“ã®åç”£å“ï¼Ÿ',
      options: ['åŸ¼ç‰çœŒç§©çˆ¶', 'å±±å½¢çœŒ', 'å’Œæ­Œå±±çœŒ', 'ç¾¤é¦¬çœŒ'],
      answer: 1,
      explanation: 'ä½è—¤å±‹ã®ã€Œä¹ƒã—æ¢…ã€ã¯å±±å½¢ã®å®Œç†Ÿæ¢…ã‚’ä½¿ã£ãŸç”˜é…¸ã£ã±ã„ä¸€å“ã€‚ç–²åŠ´å›å¾©ã«ã´ã£ãŸã‚Šï¼'
    },
    // --- 38km ---
    {
      km: 38,
      category: 'ğŸµ æ²¿é“å¿œæ´',
      question: '38kmåœ°ç‚¹ä»˜è¿‘ã§è¦‹ã‚‰ã‚Œã‚‹ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¯ï¼Ÿ',
      options: ['ãƒ•ãƒ©ãƒ€ãƒ³ã‚¹', 'ç›†è¸Šã‚Š', 'ãƒã‚¢ãƒ€ãƒ³ã‚¹', 'ãƒ•ãƒ©ãƒ¡ãƒ³ã‚³'],
      answer: 2,
      explanation: 'ãƒã‚¢ãƒ€ãƒ³ã‚¹ã‚¯ãƒ©ãƒ– SAKURA ANGELSãŒè¯ã‚„ã‹ãªãƒ€ãƒ³ã‚¹ã§æœ€å¾Œã®åŠ›ã‚’å¼•ãå‡ºã—ã¦ãã‚Œã¾ã™ï¼'
    },
    // --- 40km ---
    {
      km: 40,
      category: 'ğŸ—ºï¸ ã‚³ãƒ¼ã‚¹ç‰¹å¾´',
      question: 'ã‚´ãƒ¼ãƒ«ã¾ã§ã‚ã¨ç´„ä½•kmï¼Ÿæ°—åˆã‚’å…¥ã‚Œç›´ãã†ï¼',
      options: ['ç´„1km', 'ç´„2.195km', 'ç´„3km', 'ç´„5km'],
      answer: 1,
      explanation: 'ã‚ã¨2.195kmï¼æœ€å¾Œã®åŠ›ã‚’æŒ¯ã‚Šçµã£ã¦ã•ã„ãŸã¾ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¢ãƒªãƒ¼ãƒŠã‚’ç›®æŒ‡ã—ã¾ã—ã‚‡ã†ï¼'
    },
    // --- 42km ---
    {
      km: 42,
      category: 'ğŸ ãƒ•ã‚£ãƒ‹ãƒƒã‚·ãƒ¥',
      question: 'ã•ã„ãŸã¾ãƒãƒ©ã‚½ãƒ³ã®å¤§ä¼šã‚³ãƒ³ã‚»ãƒ—ãƒˆã¯ï¼Ÿ',
      options: [
        'æ—¥æœ¬ä¸€é€Ÿã„ãƒãƒ©ã‚½ãƒ³',
        'èª°ã‚‚ãŒã‚¹ãƒãƒ¼ãƒ„ã‚’æ¥½ã—ã¿ã€èª°ã‚‚ãŒå‚åŠ ã§ãã‚‹æ±æ—¥æœ¬å±ˆæŒ‡ã®ãƒãƒ©ã‚½ãƒ³ã®ç¥­å…¸',
        'ä¸–ç•Œã«èª‡ã‚‹ãƒ•ãƒ©ãƒƒãƒˆã‚³ãƒ¼ã‚¹',
        'ãƒ©ãƒ³ãƒŠãƒ¼ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã®å¤§ä¼š'
      ],
      answer: 1,
      explanation: 'ã€Œèª°ã‚‚ãŒã‚¹ãƒãƒ¼ãƒ„ã‚’æ¥½ã—ã¿ã€èª°ã‚‚ãŒå‚åŠ ã§ãã‚‹æ±æ—¥æœ¬å±ˆæŒ‡ã®ãƒãƒ©ã‚½ãƒ³ã®ç¥­å…¸ã€ãŒã‚³ãƒ³ã‚»ãƒ—ãƒˆï¼ãƒ•ãƒ«ãƒãƒ©ã‚½ãƒ³ã€8kmã€è¦ªå­ãƒ©ãƒ³ã€è»Šã„ã™ãªã©å¤šå½©ãªéƒ¨é–€ãŒã‚ã‚Šã¾ã™ï¼'
    },
    {
      km: 42.195,
      category: 'ğŸ ãƒ•ã‚£ãƒ‹ãƒƒã‚·ãƒ¥',
      question: 'ã•ã„ãŸã¾ãƒãƒ©ã‚½ãƒ³2026ã®ã‚¨ãƒ³ãƒˆãƒªãƒ¼è€…æ•°ã¯ï¼Ÿ',
      options: ['ç´„5,000å', 'ç´„10,000å', '15,000åè¶…', 'ç´„20,000å'],
      answer: 2,
      explanation: '15,000åã‚’è¶…ãˆã‚‹å¤§è¦æ¨¡å¤§ä¼šï¼ãŸãã•ã‚“ã®ãƒ©ãƒ³ãƒŠãƒ¼ã¨ä¸€ç·’ã«ã‚´ãƒ¼ãƒ«ã‚’ç›®æŒ‡ã—ã¾ã—ã‚‡ã†ï¼'
    }
  ];

  // =====================================================
  // GAME STATE
  // =====================================================
  const TOTAL_DISTANCE = 42.195;
  const STAMINA_MAX = 100;
  const STAMINA_GAIN = 10;
  const STAMINA_LOSS = 12;

  let currentQuestion = 0;
  let score = 0;
  let stamina = STAMINA_MAX;
  let correctCount = 0;
  let totalAnswered = 0;
  let shuffledQuiz = [];
  let isAnswering = false;

  // --- DOM refs ---
  const courseBar = document.getElementById('course-bar');
  const staminaContainer = document.getElementById('stamina-container');
  const courseFill = document.getElementById('course-fill');
  const runnerIcon = document.getElementById('runner-icon');
  const currentKmEl = document.getElementById('current-km');
  const questionCountEl = document.getElementById('question-count');
  const staminaBar = document.getElementById('stamina-bar');
  const staminaText = document.getElementById('stamina-text');
  const scoreBadge = document.getElementById('score-badge');

  const startScreen = document.getElementById('start-screen');
  const quizScreen = document.getElementById('quiz-screen');
  const finishScreen = document.getElementById('finish-screen');
  const gameoverScreen = document.getElementById('gameover-screen');

  const quizKm = document.getElementById('quiz-km');
  const quizCategory = document.getElementById('quiz-category');
  const quizQuestion = document.getElementById('quiz-question');
  const quizOptions = document.getElementById('quiz-options');
  const quizResult = document.getElementById('quiz-result');
  const resultEmoji = document.getElementById('result-emoji');
  const resultText = document.getElementById('result-text');
  const quizNext = document.getElementById('quiz-next');
  const aidCard = document.getElementById('aid-card');
  const aidHeader = document.getElementById('aid-header');
  const aidBody = document.getElementById('aid-body');

  // --- Screen management ---
  function showScreen(screen) {
    [startScreen, quizScreen, finishScreen, gameoverScreen].forEach(function(s) {
      s.classList.remove('active');
    });
    screen.classList.add('active');
  }

  // --- Shuffle array ---
  function shuffleOptions(q) {
    // Create indexed options
    const indexed = q.options.map(function(opt, i) {
      return { text: opt, originalIndex: i };
    });
    // Shuffle
    for (let i = indexed.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [indexed[i], indexed[j]] = [indexed[j], indexed[i]];
    }
    return {
      options: indexed.map(function(o) { return o.text; }),
      answerIndex: indexed.findIndex(function(o) { return o.originalIndex === q.answer; })
    };
  }

  // --- Update HUD ---
  function updateCourseProgress(km) {
    const pct = Math.min((km / TOTAL_DISTANCE) * 100, 100);
    courseFill.style.width = pct + '%';
    // Keep runner within track bounds (16px padding each side, icon ~20px wide)
    runnerIcon.style.left = 'calc(16px + (100% - 52px) * ' + (pct / 100) + ')';
    currentKmEl.textContent = km.toFixed(1) + 'km';
    questionCountEl.textContent = 'Q.' + (currentQuestion + 1) + '/' + shuffledQuiz.length;
  }

  function updateStamina() {
    const pct = Math.max(0, Math.min(100, stamina));
    staminaBar.style.width = pct + '%';
    staminaText.textContent = Math.round(pct) + '%';
    scoreBadge.textContent = 'â­ ' + score + 'ç‚¹';

    // Color change based on stamina level
    if (pct <= 20) {
      staminaBar.style.background = '#f44336';
    } else if (pct <= 50) {
      staminaBar.style.background = 'linear-gradient(90deg, #f44336, #ff9800)';
    } else {
      staminaBar.style.background = 'linear-gradient(90deg, #ff9800, #4caf50)';
    }
  }

  // --- Show quiz question ---
  function showQuestion() {
    if (currentQuestion >= shuffledQuiz.length) {
      showFinish();
      return;
    }

    if (stamina <= 0) {
      showGameOver();
      return;
    }

    const q = shuffledQuiz[currentQuestion];
    const shuffled = shuffleOptions(q);

    updateCourseProgress(q.km);

    quizKm.textContent = q.km + 'km';
    quizCategory.textContent = q.category;
    quizQuestion.textContent = q.question;

    // Clear previous
    quizOptions.innerHTML = '';
    quizResult.classList.remove('show', 'correct', 'wrong');
    quizNext.classList.remove('show');
    aidCard.classList.remove('show');

    // Remove any existing landmark cards
    var oldLandmarks = quizScreen.querySelectorAll('.landmark-card');
    oldLandmarks.forEach(function(el) { el.remove(); });

    // Create option buttons
    isAnswering = false;
    shuffled.options.forEach(function(opt, i) {
      const btn = document.createElement('button');
      btn.className = 'quiz-option';
      btn.textContent = opt;
      btn.addEventListener('click', function(e) {
        e.preventDefault();
        handleAnswer(i, shuffled.answerIndex, q);
      });
      quizOptions.appendChild(btn);
    });

    showScreen(quizScreen);
  }

  // --- Handle answer ---
  function handleAnswer(selected, correctIdx, q) {
    // Guard against double-tap
    if (isAnswering) return;
    isAnswering = true;

    const buttons = quizOptions.querySelectorAll('.quiz-option');

    // Disable all buttons
    buttons.forEach(function(btn) {
      btn.classList.add('disabled');
    });

    totalAnswered++;
    const isCorrect = selected === correctIdx;

    if (isCorrect) {
      buttons[selected].classList.add('correct');
      stamina = Math.min(STAMINA_MAX, stamina + STAMINA_GAIN);
      score += 10;
      correctCount++;

      resultEmoji.textContent = 'ğŸ‰';
      resultText.textContent = 'æ­£è§£ï¼ ' + q.explanation;
      quizResult.className = 'quiz-result show correct';
    } else {
      buttons[selected].classList.add('wrong');
      buttons[correctIdx].classList.add('reveal');
      stamina = Math.max(0, stamina - STAMINA_LOSS);
      score = Math.max(0, score - 3);

      resultEmoji.textContent = 'ğŸ˜¢';
      resultText.textContent = 'æ®‹å¿µâ€¦ ' + q.explanation;
      quizResult.className = 'quiz-result show wrong';
    }

    updateStamina();

    // Flash stamina bar
    staminaContainer.classList.remove('stamina-flash');
    void staminaContainer.offsetWidth;
    staminaContainer.classList.add('stamina-flash');

    // Show aid info if available
    if (q.aid) {
      aidHeader.textContent = 'ğŸ½ï¸ ' + q.km + 'km ã‚¨ã‚¤ãƒ‰ã‚¹ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³æƒ…å ±';
      aidBody.innerHTML = '';
      q.aid.forEach(function(item) {
        const div = document.createElement('div');
        div.className = 'aid-item';
        const emojiSpan = document.createElement('span');
        emojiSpan.className = 'emoji';
        emojiSpan.textContent = item.emoji;
        const textSpan = document.createElement('span');
        textSpan.textContent = item.text;
        div.appendChild(emojiSpan);
        div.appendChild(textSpan);
        aidBody.appendChild(div);
      });
      aidCard.classList.add('show');
    }

    // Show landmark if available
    if (q.landmark) {
      const card = document.createElement('div');
      card.className = 'landmark-card';
      const lmEmoji = document.createElement('span');
      lmEmoji.className = 'emoji';
      lmEmoji.textContent = q.landmark.emoji;
      const lmInfo = document.createElement('div');
      lmInfo.className = 'info';
      const lmName = document.createElement('strong');
      lmName.textContent = q.landmark.name;
      lmInfo.appendChild(lmName);
      lmInfo.appendChild(document.createElement('br'));
      lmInfo.appendChild(document.createTextNode(q.landmark.detail));
      card.appendChild(lmEmoji);
      card.appendChild(lmInfo);
      quizScreen.appendChild(card);
    }

    // Show next button
    quizNext.classList.add('show');

    // Auto scroll to result
    quizResult.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
  }

  // --- Next question ---
  function nextQuestion() {
    currentQuestion++;

    if (stamina <= 0) {
      showGameOver();
      return;
    }

    showQuestion();

    // Scroll to top
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }

  // --- Finish screen ---
  function showFinish() {
    courseBar.style.display = 'none';
    staminaContainer.style.display = 'none';
    document.body.classList.remove('game-active');

    const accuracy = totalAnswered > 0 ? Math.round((correctCount / totalAnswered) * 100) : 0;

    // Medal based on accuracy
    let medal;
    if (accuracy >= 90) medal = 'ğŸ¥‡';
    else if (accuracy >= 70) medal = 'ğŸ¥ˆ';
    else if (accuracy >= 50) medal = 'ğŸ¥‰';
    else medal = 'ğŸ…';

    document.getElementById('finish-medal').textContent = medal;
    document.getElementById('finish-accuracy').textContent = accuracy + '%';
    document.getElementById('finish-score').textContent = score;
    document.getElementById('finish-stamina').textContent = Math.max(0, Math.round(stamina)) + '%';
    document.getElementById('finish-correct').textContent = correctCount + '/' + totalAnswered;

    let msg;
    if (accuracy >= 90) {
      msg = 'ğŸŠ ç´ æ™´ã‚‰ã—ã„ï¼ã‚³ãƒ¼ã‚¹ãƒã‚¹ã‚¿ãƒ¼ã§ã™ï¼æœ¬ç•ªã‚‚è‡ªä¿¡ã‚’æŒã£ã¦èµ°ã‚Œã¾ã™ã­ï¼ã‚¨ã‚¤ãƒ‰ã®å ´æ‰€ã‚‚å®Œç’§ã«æŠŠæ¡ã—ã¦ã„ã¾ã™ï¼';
    } else if (accuracy >= 70) {
      msg = 'ğŸ‘ ã‚ˆãé ‘å¼µã‚Šã¾ã—ãŸï¼ã‚³ãƒ¼ã‚¹ã®å¤§éƒ¨åˆ†ã‚’ç†è§£ã—ã¦ã„ã¾ã™ã€‚ã‚‚ã†ä¸€åº¦æŒ‘æˆ¦ã—ã¦ã‚¨ã‚¤ãƒ‰æƒ…å ±ã‚’å®Œç’§ã«ã—ã¾ã—ã‚‡ã†ï¼';
    } else if (accuracy >= 50) {
      msg = 'ğŸ’ª ã¾ãšã¾ãšã®çµæœã§ã™ï¼ã‚‚ã†ä¸€åº¦èµ°ã£ã¦ã€ã‚¨ã‚¤ãƒ‰ã‚„æŠ˜ã‚Šè¿”ã—åœ°ç‚¹ã‚’ã—ã£ã‹ã‚Šè¦šãˆã¾ã—ã‚‡ã†ï¼';
    } else {
      msg = 'ğŸ“š ã‚³ãƒ¼ã‚¹ã®äºˆç¿’ãŒå¿…è¦ã§ã™ï¼ã‚‚ã†ä¸€åº¦ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã—ã¦ã€ã‚¨ã‚¤ãƒ‰ã®é£Ÿã¹ç‰©ã‚„æŠ˜ã‚Šè¿”ã—åœ°ç‚¹ã‚’è¦šãˆã¾ã—ã‚‡ã†ï¼';
    }
    document.getElementById('finish-message').textContent = msg;

    showScreen(finishScreen);
  }

  // --- Game over screen ---
  function showGameOver() {
    courseBar.style.display = 'none';
    staminaContainer.style.display = 'none';
    document.body.classList.remove('game-active');

    const q = shuffledQuiz[Math.min(currentQuestion, shuffledQuiz.length - 1)];
    const km = q ? q.km : 0;
    document.getElementById('gameover-km').textContent = km.toFixed(1) + 'kmåœ°ç‚¹ã§ãƒªã‚¿ã‚¤ã‚¢';
    document.getElementById('gameover-dist').textContent = km.toFixed(1) + 'km';
    document.getElementById('gameover-correct').textContent = correctCount + '/' + totalAnswered;

    showScreen(gameoverScreen);
  }

  // --- Start game ---
  function startGame() {
    currentQuestion = 0;
    score = 0;
    stamina = STAMINA_MAX;
    correctCount = 0;
    totalAnswered = 0;

    // Shuffle questions within same km groups for variety
    shuffledQuiz = QUIZ_DATA.slice();
    var i = 0;
    while (i < shuffledQuiz.length) {
      var j = i;
      while (j < shuffledQuiz.length && shuffledQuiz[j].km === shuffledQuiz[i].km) j++;
      // Fisher-Yates shuffle within this km group
      for (var k = j - 1; k > i; k--) {
        var r = i + Math.floor(Math.random() * (k - i + 1));
        var tmp = shuffledQuiz[k];
        shuffledQuiz[k] = shuffledQuiz[r];
        shuffledQuiz[r] = tmp;
      }
      i = j;
    }

    courseBar.style.display = 'block';
    staminaContainer.style.display = 'flex';
    document.body.classList.add('game-active');

    updateStamina();
    showQuestion();
  }

  // --- Event listeners ---
  document.getElementById('start-btn').addEventListener('click', function(e) {
    e.preventDefault();
    startGame();
  });

  document.getElementById('next-btn').addEventListener('click', function(e) {
    e.preventDefault();
    nextQuestion();
  });

  document.getElementById('retry-btn').addEventListener('click', function(e) {
    e.preventDefault();
    startGame();
  });

  document.getElementById('gameover-retry-btn').addEventListener('click', function(e) {
    e.preventDefault();
    startGame();
  });

})();
</script>
</body>
</html>
